# Guide to configuration files in PSG

The PSG configuration file contains all the information for the computation of spectra in PSG. It is divided in section that are easily associated to different modules of PSG.

## Object section

The object section specifies the studied object, date and coordinates. It is important to retrieve the atmospheric state from atmospheric database. The time is given in Earth's date.

```text
<OBJECT>Planet
<OBJECT-NAME>Mars
<OBJECT-DATE>2019/12/23 00:00
<OBJECT-OBS-LONGITUDE>0.00
<OBJECT-OBS-LATITUDE>-45.00
```

Given the data above, PSG computes the orbit properties.

```text
<OBJECT-DIAMETER>6779.80
<OBJECT-GRAVITY>3.933
<OBJECT-GRAVITY-UNIT>rho
<OBJECT-STAR-DISTANCE>1.59950
<OBJECT-PERIOD>1.02734637
<OBJECT-ORBIT>0.00000000,0.00000,684.00337777,0.00000,1.52000,0.000000
<OBJECT-SEASON>124.5
<OBJECT-SOLAR-LONGITUDE>201.1
<OBJECT-SOLAR-LATITUDE>20.75
<OBJECT-POSITION-ANGLE>38.14
<OBJECT-STAR-TYPE>G
<OBJECT-STAR-TEMPERATURE>5777
<OBJECT-STAR-RADIUS>1.0
<OBJECT-OBS-VELOCITY>0.000
<OBJECT-STAR-VELOCITY>-1.81893
<OBJECT-INCLINATION>90.00
```

## Geometry section

The geometry section defines the viewing geometry, in this case *Nadir*, and the altitude of the instrument.

```text
<GEOMETRY-REF>User
<GEOMETRY>Nadir
<GEOMETRY-OBS-ALTITUDE>400.00
<GEOMETRY-ALTITUDE-UNIT>km
```

Given the quantities above, other geometric values are computed by PSG

```text
<GEOMETRY-STAR-DISTANCE>-1.000000e+00
<GEOMETRY-SOLAR-ANGLE>150.148
<GEOMETRY-OBS-ANGLE>0.000
<GEOMETRY-PLANET-FRACTION>7.344656e-12
<GEOMETRY-BRDFSCALER>1.0
<GEOMETRY-TEMISSION>300.000
<GEOMETRY-AZIMUTH>0.000
<GEOMETRY-STAR-FRACTION>0.000000e+00
<GEOMETRY-ROTATION>0.00,0.00
```

## Generator section

The generator section gathers all the properties of the detector.

```text
<GENERATOR-INSTRUMENT>user
```

The following three parameters determine if the simulations are going to use the spectroscopy of gasses (YES), the continuum (YES) and if the stellar radiation has to be treated as a Black Body or we want to include specific star features (In this case, by selecting NO, we treat the sun as a Black Body).

```text
<GENERATOR-GAS-MODEL>Y
<GENERATOR-CONT-MODEL>Y
<GENERATOR-CONT-STELLAR>N
```

This are the quantities related to freqeuncy range and resolution. Is important to notice that this is the final output resolution. However, is the resolution is too coarse, PSG, automatically computes the spectrum at higher resolution inside the line core not to lose too much information. The **GENERATOR-RESOLUTIONKERNEL** voice is a kernel function convolved to the spectrum at the end of the computation in this case it is a Box function.

```text
<GENERATOR-RANGE1>1600
<GENERATOR-RANGE2>2100
<GENERATOR-RANGEUNIT>cm
<GENERATOR-RESOLUTION>0.001
<GENERATOR-RESOLUTIONUNIT>cm
<GENERATOR-RESOLUTIONKERNEL>N
<GENERATOR-RADUNITS>Wsrm2cm
<GENERATOR-NOISE>NO
```

## Atmosphere section

In this section the atmosphere is defined. In this case the atmospheric quantities are retrieved from the MCD5.3 atmospheric database for the given coordinates and time, specified in the **OBJECT** section.

```text
<ATMOSPHERE-DESCRIPTION>Mars-MCD5.3 [Millour+2015] 0.0,-45.0, LS:124.5, LT:22.6, Alt:1.311,1.237
<ATMOSPHERE-STRUCTURE>Equilibrium
```

Information aboput the Surface Pressure

```text
<ATMOSPHERE-WEIGHT>43.59
<ATMOSPHERE-PRESSURE>4.4735
<ATMOSPHERE-PUNIT>mbar
```

Information about Gasses that are considered in the simulation

```text
<ATMOSPHERE-NGAS>6
<ATMOSPHERE-GAS>CO2,N2,O2,CO,H2O,O3
<ATMOSPHERE-TYPE>HIT[2],HIT[22],HIT[7],HIT[5],HIT[1],HIT[3]
<ATMOSPHERE-ABUN>1,1,1,1,1,1
<ATMOSPHERE-UNIT>scl,scl,scl,scl,scl,scl
```

Information about Aereosols that are considered in the simulation

```text
<ATMOSPHERE-NAERO>0
<ATMOSPHERE-AEROS>
<ATMOSPHERE-ATYPE>
<ATMOSPHERE-AABUN>
<ATMOSPHERE-AUNIT>
<ATMOSPHERE-ASIZE>
<ATMOSPHERE-ASUNI>
```

Infotmation about continuum effects

```text
<ATMOSPHERE-CONTINUUM>Refraction,CIA_all
```

Profiles extracted from MCD (the altitude is only indicative). Sometimes some pressure levels are below surface, I still do not know why. In those case PSG neglect them and starts from the first level above surface pressure.

```text
<ATMOSPHERE-LAYERS-MOLECULES>Altitude,CO2,N2,O2,CO,H2O,O3,Dust,WaterIce,Dust_size,WaterIce_size
<ATMOSPHERE-LAYERS>49
<ATMOSPHERE-LAYER-1>4.4914e-03,1.5817e+02,0.0000e+00,9.5166e-01,2.2539e-02,1.7408e-03,9.7378e-04,1.4440e-07,3.0499e-07,2.8386e-05,1.1188e-05,2.1895e-06,2.5642e-06
<ATMOSPHERE-LAYER-2>4.4829e-03,1.5906e+02,1.5430e-02,9.5168e-01,2.2527e-02,1.7399e-03,9.7328e-04,1.8066e-07,3.0498e-07,1.9902e-05,1.1187e-05,2.0925e-06,2.5636e-06
<ATMOSPHERE-LAYER-3>4.4601e-03,1.6025e+02,5.7181e-02,9.5170e-01,2.2518e-02,1.7392e-03,9.7285e-04,2.6663e-07,3.0560e-07,1.2908e-05,1.1180e-05,1.9708e-06,2.5618e-06
<ATMOSPHERE-LAYER-4>4.4107e-03,1.6155e+02,1.4934e-01,9.5150e-01,2.2598e-02,1.7454e-03,9.7624e-04,3.4451e-07,3.1088e-07,7.7405e-06,1.1208e-05,1.8262e-06,2.5581e-06
<ATMOSPHERE-LAYER-5>4.3193e-03,1.6210e+02,3.2343e-01,9.5155e-01,2.2589e-02,1.7447e-03,9.7588e-04,3.8128e-07,3.1199e-07,5.2698e-06,1.1299e-05,1.7045e-06,2.5553e-06
<ATMOSPHERE-LAYER-6>4.1694e-03,1.6242e+02,6.1785e-01,9.5193e-01,2.2427e-02,1.7322e-03,9.6906e-04,4.2764e-07,3.0336e-07,4.4513e-06,1.1467e-05,1.6549e-06,2.5690e-06
<ATMOSPHERE-LAYER-7>3.9457e-03,1.6284e+02,1.0786e+00,9.5260e-01,2.2121e-02,1.7087e-03,9.5636e-04,5.3927e-07,2.8476e-07,4.0935e-06,1.1654e-05,1.6324e-06,2.6263e-06
<ATMOSPHERE-LAYER-8>3.6395e-03,1.6365e+02,1.7563e+00,9.5322e-01,2.1831e-02,1.6863e-03,9.4424e-04,7.2487e-07,2.6000e-07,3.5945e-06,1.1576e-05,1.5761e-06,2.7052e-06
<ATMOSPHERE-LAYER-9>3.2551e-03,1.6512e+02,2.6993e+00,9.5465e-01,2.1156e-02,1.6342e-03,9.1608e-04,1.1619e-06,2.0698e-07,2.8965e-06,9.8980e-06,1.4133e-06,2.9930e-06
<ATMOSPHERE-LAYER-10>2.8113e-03,1.6861e+02,3.9563e+00,9.5694e-01,2.0072e-02,1.5498e-03,8.7026e-04,2.5944e-06,1.2495e-07,2.1558e-06,6.0709e-06,1.1945e-06,3.8923e-06
<ATMOSPHERE-LAYER-11>2.3385e-03,1.7416e+02,5.5784e+00,9.5924e-01,1.8990e-02,1.4634e-03,8.1955e-04,5.9939e-06,6.4361e-08,1.7224e-06,1.6257e-09,1.0847e-06,2.9858e-06
<ATMOSPHERE-LAYER-12>1.8723e-03,1.7905e+02,7.5979e+00,9.6071e-01,1.8309e-02,1.4071e-03,7.8338e-04,9.7207e-06,3.3680e-08,1.3003e-06,1.4106e-14,9.9562e-07,3.2219e-06
<ATMOSPHERE-LAYER-13>1.4435e-03,1.8350e+02,1.0025e+01,9.6148e-01,1.7965e-02,1.3765e-03,7.5423e-04,1.4724e-05,1.7873e-08,9.8420e-07,8.1053e-15,9.1999e-07,3.4783e-06
<ATMOSPHERE-LAYER-14>1.0724e-03,1.8601e+02,1.2855e+01,9.6174e-01,1.7847e-02,1.3653e-03,7.3767e-04,2.1256e-05,1.1223e-08,8.1526e-07,3.9159e-15,8.6510e-07,3.8555e-06
<ATMOSPHERE-LAYER-15>7.6855e-04,1.8653e+02,1.6059e+01,9.6175e-01,1.7848e-02,1.3630e-03,7.3113e-04,2.8574e-05,8.2024e-09,9.7366e-07,5.9091e-09,8.7339e-07,2.5732e-06
<ATMOSPHERE-LAYER-16>5.3235e-04,1.8495e+02,1.9587e+01,9.6159e-01,1.7922e-02,1.3663e-03,7.2947e-04,3.6320e-05,6.1081e-09,1.3244e-06,3.6289e-08,9.0630e-07,4.2135e-06
<ATMOSPHERE-LAYER-17>3.5743e-04,1.8190e+02,2.3375e+01,9.6149e-01,1.7971e-02,1.3690e-03,7.2905e-04,3.7846e-05,4.6311e-09,1.3500e-06,1.6505e-07,9.0062e-07,3.2450e-06
<ATMOSPHERE-LAYER-18>2.3370e-04,1.7751e+02,2.7342e+01,9.6150e-01,1.7967e-02,1.3687e-03,7.2815e-04,3.0543e-05,8.2055e-09,8.8594e-07,3.5014e-07,8.5320e-07,2.0696e-06
<ATMOSPHERE-LAYER-19>1.4974e-04,1.7234e+02,3.1395e+01,9.6160e-01,1.7923e-02,1.3675e-03,7.2827e-04,1.9016e-05,3.8553e-08,3.5098e-07,2.6273e-07,7.6974e-07,1.5473e-06
<ATMOSPHERE-LAYER-20>9.4231e-05,1.6579e+02,3.5481e+01,9.6169e-01,1.7875e-02,1.3686e-03,7.3148e-04,1.0154e-05,8.5371e-08,1.0514e-07,1.3599e-07,6.7308e-07,1.4619e-06
<ATMOSPHERE-LAYER-21>5.6115e-05,1.5944e+02,3.9891e+01,9.6178e-01,1.7824e-02,1.3741e-03,7.4524e-04,5.6603e-06,1.2366e-07,1.9810e-08,2.2052e-08,5.8269e-07,1.3030e-06
<ATMOSPHERE-LAYER-22>3.0554e-05,1.5200e+02,4.4857e+01,9.6184e-01,1.7770e-02,1.3873e-03,7.8323e-04,4.0760e-06,5.7063e-08,2.4770e-09,5.3261e-16,6.0563e-07,1.1081e-06
<ATMOSPHERE-LAYER-23>1.5898e-05,1.4621e+02,4.9978e+01,9.6184e-01,1.7716e-02,1.4112e-03,8.6287e-04,3.4242e-06,5.2598e-08,1.0103e-10,2.1914e-17,1.0010e-06,1.0010e-06
<ATMOSPHERE-LAYER-24>8.0357e-06,1.4152e+02,5.5148e+01,9.6174e-01,1.7685e-02,1.4350e-03,9.6793e-04,3.1210e-06,8.0248e-08,2.9144e-12,1.2203e-30,1.0010e-06,1.0010e-06
<ATMOSPHERE-LAYER-25>3.9993e-06,1.3953e+02,6.0328e+01,9.6150e-01,1.7664e-02,1.4622e-03,1.1361e-03,2.8803e-06,1.0245e-07,8.6740e-14,1.0000e-30,1.0010e-06,1.0010e-06
<ATMOSPHERE-LAYER-26>1.9860e-06,1.4390e+02,6.5588e+01,9.6063e-01,1.7652e-02,1.5148e-03,1.5970e-03,2.5186e-06,9.9012e-08,1.1560e-14,1.0000e-30,1.0010e-06,1.0010e-06
<ATMOSPHERE-LAYER-27>9.8622e-07,1.5174e+02,7.1097e+01,9.5739e-01,1.7983e-02,1.6230e-03,2.8189e-03,2.0420e-06,5.4304e-08,1.7208e-15,1.0000e-30,1.0010e-06,1.0010e-06
<ATMOSPHERE-LAYER-28>4.8974e-07,1.4515e+02,7.6657e+01,9.5204e-01,1.8890e-02,1.7569e-03,4.6473e-03,1.6894e-06,4.8845e-08,8.7723e-17,1.0001e-30,1.0010e-06,1.0010e-06
<ATMOSPHERE-LAYER-29>2.4320e-07,1.3502e+02,8.1939e+01,9.4215e-01,2.1100e-02,1.9720e-03,7.3625e-03,1.4147e-06,4.0192e-08,3.8159e-19,1.4504e-30,1.0010e-06,1.0010e-06
<ATMOSPHERE-LAYER-30>1.2077e-07,1.3102e+02,8.6998e+01,9.2663e-01,2.4829e-02,2.2917e-03,1.1606e-02,1.2177e-06,2.3112e-08,2.0751e-20,2.5186e-28,1.0010e-06,1.0010e-06
<ATMOSPHERE-LAYER-31>5.9972e-08,1.3144e+02,9.2029e+01,9.1023e-01,2.9489e-02,2.5561e-03,1.4918e-02,1.0091e-06,8.2481e-09,1.8192e-20,4.6473e-24,1.0010e-06,1.0010e-06
<ATMOSPHERE-LAYER-32>2.9781e-08,1.3197e+02,9.7135e+01,8.8691e-01,3.6204e-02,3.1584e-03,2.0999e-02,9.8147e-07,3.5812e-09,1.8127e-20,3.5768e-26,1.0010e-06,1.0010e-06
<ATMOSPHERE-LAYER-33>1.4789e-08,1.3046e+02,1.0228e+02,8.6096e-01,4.4283e-02,3.9459e-03,2.7557e-02,1.0604e-06,1.5006e-09,1.4384e-20,1.4724e-29,1.0010e-06,1.0010e-06
<ATMOSPHERE-LAYER-34>7.3439e-09,1.2901e+02,1.0743e+02,8.3342e-01,5.3311e-02,4.8683e-03,3.4595e-02,1.2370e-06,6.5521e-10,6.7480e-21,9.5358e-30,1.0010e-06,1.0010e-06
<ATMOSPHERE-LAYER-35>3.6469e-09,1.3454e+02,1.1274e+02,8.0506e-01,6.3187e-02,5.8252e-03,4.2384e-02,1.5397e-06,2.5969e-10,1.0487e-21,1.5546e-30,1.0010e-06,1.0010e-06
<ATMOSPHERE-LAYER-36>1.8110e-09,1.4138e+02,1.1839e+02,7.7053e-01,7.5718e-02,6.8945e-03,5.2139e-02,1.9958e-06,1.0380e-10,1.0951e-27,6.5173e-30,1.0010e-06,1.0010e-06
<ATMOSPHERE-LAYER-37>8.9931e-10,1.4668e+02,1.2442e+02,7.2821e-01,9.1118e-02,8.0596e-03,6.3913e-02,2.6499e-06,4.2917e-11,6.7969e-30,2.9523e-29,1.0010e-06,1.0010e-06
<ATMOSPHERE-LAYER-38>4.4659e-10,1.5146e+02,1.3085e+02,6.7804e-01,1.0899e-01,9.2411e-03,7.7316e-02,3.5642e-06,1.8847e-11,1.0000e-30,8.3676e-30,1.0010e-06,1.0010e-06
<ATMOSPHERE-LAYER-39>2.2177e-10,1.5529e+02,1.3770e+02,6.1914e-01,1.2891e-01,1.0365e-02,9.1971e-02,4.8405e-06,9.2124e-12,1.0000e-30,4.6211e-30,1.0010e-06,1.0010e-06
<ATMOSPHERE-LAYER-40>1.1013e-10,1.5796e+02,1.4502e+02,5.5051e-01,1.4993e-01,1.1329e-02,1.0718e-01,6.6382e-06,5.0841e-12,1.0000e-30,1.0000e-30,1.0010e-06,1.0010e-06
<ATMOSPHERE-LAYER-41>5.4687e-11,1.5962e+02,1.5289e+02,4.7178e-01,1.7036e-01,1.1993e-02,1.2167e-01,9.1319e-06,3.0786e-12,1.0000e-30,9.5036e-30,1.0010e-06,1.0010e-06
<ATMOSPHERE-LAYER-42>2.7157e-11,1.6058e+02,1.6142e+02,3.8408e-01,1.8734e-01,1.2191e-02,1.3341e-01,1.2488e-05,1.9518e-12,1.0000e-30,1.0475e-30,1.0010e-06,1.0010e-06
<ATMOSPHERE-LAYER-43>1.3486e-11,1.6111e+02,1.7082e+02,2.9147e-01,1.9684e-01,1.1745e-02,1.3952e-01,1.6798e-05,1.2268e-12,1.0000e-30,1.0000e-30,1.0010e-06,1.0010e-06
<ATMOSPHERE-LAYER-44>6.6968e-12,1.6139e+02,1.8135e+02,2.0136e-01,1.9446e-01,1.0546e-02,1.3698e-01,2.1941e-05,7.2484e-13,1.0000e-30,4.1965e-30,1.0010e-06,1.0010e-06
<ATMOSPHERE-LAYER-45>3.3255e-12,1.6154e+02,1.9332e+02,1.2310e-01,1.7729e-01,8.6481e-03,1.2394e-01,2.7431e-05,3.8281e-13,1.0000e-30,1.0000e-30,1.0010e-06,1.0010e-06
<ATMOSPHERE-LAYER-46>1.6514e-12,1.6161e+02,2.0706e+02,6.4527e-02,1.4629e-01,6.3352e-03,1.0140e-01,3.2289e-05,1.7251e-13,1.0000e-30,1.0000e-30,1.0010e-06,1.0010e-06
<ATMOSPHERE-LAYER-47>8.2007e-13,1.6164e+02,2.2291e+02,2.8076e-02,1.0716e-01,4.0579e-03,7.3630e-02,3.5131e-05,6.3910e-14,1.0000e-30,4.0864e-30,1.0010e-06,1.0010e-06
<ATMOSPHERE-LAYER-48>4.0723e-13,1.6166e+02,2.4156e+02,9.7412e-03,6.7812e-02,2.2076e-03,4.6246e-02,3.4394e-05,1.8766e-14,1.0000e-30,1.3741e-30,1.0010e-06,1.0010e-06
<ATMOSPHERE-LAYER-49>2.0223e-13,1.6167e+02,2.6417e+02,2.6863e-03,3.6701e-02,1.0126e-03,2.4928e-02,2.9565e-05,4.4570e-15,1.0000e-30,1.9100e-30,1.0010e-06,1.0010e-06
```

Information about the surface and surface temperature

```text
<SURFACE-MODEL>Lambert
<SURFACE-PHASEMODEL>ISO
<SURFACE-ALBEDO>0.0
<SURFACE-EMISSIVITY>1.0
<SURFACE-TEMPERATURE>156.21
<SURFACE-NSURF>0
```
